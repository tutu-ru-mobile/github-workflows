name: "Setup environment (dependencies)"
description: "Install all dependencies (Brewfile, Gemfile)"

runs:
  using: "composite"
  steps:
    - name: Setup ruby
      uses: ruby/setup-ruby@v1
      with:
        ruby-version: '2.7'
        bundler-cache: true
    - name: Configure bundler
      run: bundle config set --local path 'vendor/bundle'
      shell: bash
    - name: Install gems
      run: bundle install
      shell: bash
    - name: Install brew dependencies
      run: brew bundle
      shell: bash
